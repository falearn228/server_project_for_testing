const net = require('net');

// Устанавливаем параметры подключения
const HOST = '169.254.0.160'; // IP-адрес или хостнейм вашего устройства
const PORT = 5025; // Порт вашего устройства

// Создаем экземпляр сокета TCP
const client = new net.Socket();

// Подключаемся к устройству
client.connect(PORT, HOST, function() {
    console.log('Успешное подключение к устройству');
    // Отправляем запрос *IDN? на устройство
    client.write(':SYSTem:CONFig:IP?\n');
});

// Обработчик события при получении данных от устройства
client.on('data', function(data) {
    console.log('Получены данные от устройства: ' + data);
    // Дальнейшая обработка полученных данных
});

// Обработчик события в случае разрыва соединения
client.on('close', function() {
    console.log('Соединение с устройством закрыто');

});

// Обработчик события в случае ошибки подключения
client.on('error', function(err) {
    console.error('Ошибка при подключении к устройству:', err);

});